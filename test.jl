# windows11 vscode 1.96.2 Julia 1.11.2 Ipopt 3.14.17, linear solver MUMPS 5.7.3
# ctrl + enter : 마우스 커서 있는 한 줄 실행
# alt + enter : 마우스로 드래그한 줄 실행
# shift enter : ##로 구별한 구역 실행
# julia 확장자 : .jl
# REPL(real eval print loop)터미널
# ] 누르면 Pkg 모드로 진입 여기서 설치하려면 add JuMP 이렇게 (ControlSystems, Plots, JuMp, Ipopt 설치됨) ctrl + c 로 나옴

using JuMP, Ipopt

model = Model(Ipopt.Optimizer) # Model(Ipopt.Optimizer)는 JuMP로 최적화 문제를 정의하고, 문제를 해결하기 위해 Ipopt 솔버를 사용하도록 설정합니다.
@variable(model, x >= 1) # 최적화 변수 x를 선언하고, x는 0 이상이라는 제약조건을 가진다
@objective(model, Min, x^2 + 2x + 1) # objective function 설정. 이를 최소화(min)
optimize!(model) # 정의된 모델을 Ipopt 솔버를 통해 최적화. Ipopt는 objective function을 최소화하기 위한 x를 계산

println("Optimal x: ", value(x)) # 최적화된 x 값 출력, value(x)는 최적화 결과로부터 변수 x의 값을 반환
println("Minimum value of f(x): ", objective_value(model))  # f(x)의 최솟값 출력

#hip angle
# 38.0360961490207
# 38.1892688607110
# 38.2714293204414
# 38.2697436442905
# 38.1960919070774
# 38.0671143870884
# 37.8813951161703
# 37.6227661510044
# 37.2578925187853
# 36.7578714781867
# 36.1064904106988
# 35.3080026270549
# 34.3826333058675
# 33.3648158009847
# 32.2903553839790
# 31.1914523760478
# 30.0874885279338
# 28.9873505329556
# 27.8940886205037
# 26.8065367957221
# 25.7240377892388
# 24.6452516943614
# 23.5697001787822
# 22.4974458111657
# 21.4299616457621
# 20.3712745719486
# 19.3250687109629
# 18.2941128220558
# 17.2832047343519
# 16.2973380263779
# 15.3434115417467
# 14.4263461790532
# 13.5492837455935
# 12.7121979459839
# 11.9090472580327
# 11.1327609330581
# 10.3742426166005
# 9.62626349684927
# 8.88180837814013
# 8.13699437042077
# 7.38981409245067
# 6.64469482970848
# 5.90898085642006
# 5.19293829760287
# 4.50732694307963
# 3.86160104328560
# 3.26672846080860
# 2.73051427351766
# 2.26007510948181
# 1.86201722385320
# 1.54342008233070
# 1.31999108697308
# 1.20671073933442
# 1.22700511715147
# 1.40286515132586
# 1.75732942842775
# 2.30446113167869
# 3.04936251364276
# 3.99736982479360
# 5.14184398372968
# 6.46397360715601
# 7.94972641927335
# 9.56704664941629
# 11.2842917277639
# 13.0700194517904
# 14.8943282619450
# 16.7314905908770
# 18.5583374896182
# 20.3574075740178
# 22.1144901226891
# 23.8176908037398
# 25.4605016360813
# 27.0364552959866
# 28.5435842068990
# 29.9803281220330
# 31.3444823635949
# 32.6349019003974
# 33.8515752813551
# 34.9869982766046
# 36.0335690871345
# 36.9854376729329
# 37.8337420887417
# 38.5756826951769
# 39.2013914871216
# 39.7001027475993
# 40.0622896745470
# 40.2846525226169
# 40.3572152514988
# 40.2803364868164
# 40.0676611629062
# 39.7413249291314
# 39.3343542124430
# 38.8916286265055
# 38.4580556055705
# 38.0868362723456
# 37.8187124188741
# 37.6865049557156
# 37.6904669727749
# 37.8091199281481
# 37.9933959431118
# 38.1870427449544

# knee angle
# submean = -3.54239360259639
# -5.36630822886692
# -7.21682731133700
# -9.02784465103679
# -10.7930413102044
# -12.5289341592789
# -14.2312602562375
# -15.8673072403802
# -17.3728145200941
# -18.6839680122799
# -19.7464603869120
# -20.5392615898980
# -21.0628909488254
# -21.3481415928735
# -21.4311185629103
# -21.3502800591787
# -21.1409677870009
# -20.8227877282037
# -20.4133084966871
# -19.9304153234694
# -19.3880085457696
# -18.7959682559967
# -18.1667248480055
# -17.5071118486193
# -16.8254751120673
# -16.1361165682475
# -15.4502983809577
# -14.7774427507189
# -14.1243044573466
# -13.4943112899992
# -12.8921878115336
# -12.3218715955946
# -11.7882380807665
# -11.2982442927890
# -10.8545662453969
# -10.4561099643177
# -10.1001401184930
# -9.78781072473526
# -9.52422384346856
# -9.31868930504057
# -9.18260785420736
# -9.13485390350554
# -9.18627916028765
# -9.35560656674703
# -9.66000177552965
# -10.1097777922948
# -10.7201800306108
# -11.4988749766880
# -12.4493616443210
# -13.5760212024053
# -14.8807679759132
# -16.3765092905892
# -18.0691966645983
# -19.9776263370514
# -22.1210726716783
# -24.5227381494310
# -27.1915002246433
# -30.1177027079264
# -33.2812691463894
# -36.6317526156108
# -40.1044099595812
# -43.6255379367405
# -47.1111579064263
# -50.4854909091526
# -53.6736673550076
# -56.6140401882596
# -59.2512745123969
# -61.5327285707262
# -63.4276670701769
# -64.9069319483439
# -65.9641447957357
# -66.6091869812012
# -66.8424086676703
# -66.6934655524360
# -66.1833161129422
# -65.3272507349650
# -64.1394187859429
# -62.6431847423977
# -60.8385906880697
# -58.7312924363878
# -56.3278252665202
# -53.6208056038751
# -50.6225696512858
# -47.3343122541640
# -43.7597357533773
# -39.9126935047574
# -35.8217130432129
# -31.5165784399244
# -27.0540871429443
# -22.5201296903822
# -18.0284799120161
# -13.7072170779175
# -9.72951621465302
# -6.25826472143653
# -3.46874034865201
# -1.48652682056030
# -0.414812596201897
# -0.215796904517544
# -0.826525820871194
# -2.05152844792273
# -3.66120526260800